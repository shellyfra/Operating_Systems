#include "aux_macro.h"
#include "../malloc_4.cpp"
#include <iostream>

void printStats()
{
    std::cout << "_num_free_blocks : " << _num_free_blocks() << std::endl;
    std::cout << "_num_free_bytes : " << _num_free_bytes() << std::endl;
    std::cout << "_num_allocated_blocks : " << _num_allocated_blocks() << std::endl;
    std::cout << "_num_allocated_bytes : " << _num_allocated_bytes() << std::endl;
    std::cout << "_num_meta_data_bytes : " << _num_meta_data_bytes() << std::endl;
    std::cout << "_size_meta_data : " << _size_meta_data() << std::endl;
}
int main()
{

    void *p;
    printStats();
    PRINT_POINTER(smalloc(1););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    PRINT_POINTER(smalloc(4););
    p = last_address;
    printStats();
    PRINT_POINTER(smalloc(64););
    p = last_address;
    printStats();
    PRINT_POINTER(smalloc(0););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    p = last_address;
    printStats();
    PRINT_POINTER(smalloc(-1););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    PRINT_POINTER(smalloc(-10););
    p = last_address;
    printStats();
    DEBUG_PRINT(smalloc(99999999););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    DEBUG_PRINT(smalloc(100000000););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    DEBUG_PRINT(smalloc(100000001););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    DEBUG_PRINT(smalloc(1000000000););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    DEBUG_PRINT(smalloc(1000000000000););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    PRINT_POINTER(scalloc(1, 1););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    PRINT_POINTER(scalloc(4, 4););
    p = last_address;
    printStats();
    PRINT_POINTER(scalloc(64, 4););
    p = last_address;
    printStats();
    PRINT_POINTER(scalloc(0, 1););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    PRINT_POINTER(scalloc(1, 0););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    PRINT_POINTER(scalloc(-1, 1););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    PRINT_POINTER(scalloc(1, -1););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    PRINT_POINTER(scalloc(-10, 5););
    p = last_address;
    printStats();
    DEBUG_PRINT(scalloc(1000, 1000););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    DEBUG_PRINT(scalloc(999, 1000););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    DEBUG_PRINT(scalloc(1000, 999););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    DEBUG_PRINT(scalloc(10000, 10000););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    DEBUG_PRINT(scalloc(10000000, 100000000););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    PRINT_POINTER(smalloc(4););
    p = last_address;
    printStats();
    PRINT_POINTER(srealloc(p, 1););
    p = last_address;
    printStats();
    PRINT_POINTER(srealloc(p, 2););
    p = last_address;
    printStats();
    PRINT_POINTER(srealloc(p, 3););
    p = last_address;
    printStats();
    PRINT_POINTER(srealloc(p, 4););
    p = last_address;
    printStats();
    PRINT_POINTER(srealloc(p, 5););
    p = last_address;
    printStats();
    PRINT_POINTER(srealloc(p, 64););
    p = last_address;
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
    PRINT_POINTER(srealloc(p, 1););
    p = last_address;
    printStats();
    void *c;
    PRINT_POINTER(srealloc(p, 0););
    c = last_address;
    printStats();
    PRINT_POINTER(srealloc(p, -1););
    c = last_address;
    printStats();
    DEBUG_PRINT(srealloc(p, 1000 * 1000););
    c = last_address;
    printStats();
    DEBUG_PRINT(sfree(c););
    printStats();
    DEBUG_PRINT(sfree(p););
    printStats();
}